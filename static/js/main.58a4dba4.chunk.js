(this["webpackJsonpweather-app"]=this["webpackJsonpweather-app"]||[]).push([[0],{10:function(e,t,n){e.exports={Header:"styles_Header__17Zy7",HeaderInner:"styles_HeaderInner__8xs6i",SearchLabel:"styles_SearchLabel__fhnj1",SearchbarInput:"styles_SearchbarInput__3Ca_h"}},19:function(e,t,n){e.exports={PageSection:"styles_PageSection__JQN4J",PageSectionInner:"styles_PageSectionInner__1GzeA"}},33:function(e,t,n){e.exports={Slider:"styles_Slider__2Shza"}},35:function(e,t,n){e.exports={Page:"styles_Page__2ZeKF"}},39:function(e,t,n){e.exports=n(75)},74:function(e,t,n){},75:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(7),c=n.n(o),i=n(3),l=n(6),s=n(5),u=n(1),d=n.n(u),f=n(4),p=Object(l.b)({name:"user",initialState:{position:null,loading:"idle",error:null},reducers:{requestGeolocationPending:function(e){e.error=null,e.loading="pending",e.position=null},requestGeolocationSuccess:function(e,t){e.error=null,e.loading="success",e.position=t.payload},requestGeolocationError:function(e,t){e.error=t.payload,e.loading="error",e.position=null}}}),g=p.actions,h=g.requestGeolocationPending,m=g.requestGeolocationError,v=g.requestGeolocationSuccess,b=n(31),_=n.n(b).a.create({baseURL:"https://www.metaweather.com/api",headers:{common:{Accept:"application/json","Content-Type":"application/json"}}});_.interceptors.response.use((function(e){return e.data}));var w=function(e){return _.get("/location/search",{params:{query:e}})},y=function(e){return _.get("/location/search",{params:{lattlong:"".concat(e.latitude,", ").concat(e.longitude)}})},j=Object(l.b)({name:"locations",initialState:{list:[],loading:"idle",error:null,selected:null},reducers:{getLocationsPending:function(e){e.error=null,e.loading="pending"},getLocationsSuccess:function(e,t){e.error=null,e.list=t.payload,e.loading="success"},getLocationsError:function(e,t){e.error=t.payload,e.loading="error"},setSelectedLocation:function(e,t){e.selected=t.payload}}}),E=j.actions,O=E.getLocationsError,S=E.getLocationsPending,x=E.getLocationsSuccess,C=E.setSelectedLocation,L=function(e){return function(){var t=Object(f.a)(d.a.mark((function t(n){var a;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n(S()),t.next=4,w(e);case 4:a=t.sent,n(x(a)),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),n(O(t.t0));case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()},k=function(e){return function(){var t=Object(f.a)(d.a.mark((function t(n){var a;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n(S()),t.next=4,y(e);case 4:a=t.sent,n(x(a)),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),n(O(t.t0));case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()},N=function(e){return _.get("".concat("/location","/").concat(e,"/"))},P=Object(l.b)({name:"weather",initialState:{error:null,loading:"idle",current:null},reducers:{getWeatherPending:function(e){e.error=null,e.loading="pending"},getWeatherSuccess:function(e,t){e.error=null,e.loading="success",e.current=t.payload},getWeatherError:function(e,t){e.error=t.payload,e.loading="error",e.current=null}}}),W=P.actions,I=W.getWeatherError,G=W.getWeatherPending,H=W.getWeatherSuccess,q=function(e){return function(){var t=Object(f.a)(d.a.mark((function t(n){var a;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n(G()),t.next=4,N(e);case 4:a=t.sent,n(H(a)),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),n(I(t.t0));case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()},T=Object(s.c)({geolocation:p.reducer,locations:j.reducer,weather:P.reducer}),R=Object(l.a)({reducer:T,middleware:Object(l.c)({serializableCheck:!1})}),J=n(12),F=n(32),z=n.n(F),A=function(e){return e},B=n(38),Z=n(33),D=n.n(Z),K=function(e){var t=e.value,n=void 0===t?10:t,a=e.onChange,o=Object(B.a)(e,["value","onChange"]);return r.a.createElement("div",{className:D.a.Slider},r.a.createElement("input",Object.assign({},o,{type:"range",value:n,onChange:a})))},Q=n(36),U=n(37);var M,V=n(18),X=n.n(V),Y=n(19),$=n.n(Y),ee=function(e){var t=e.innerClass,n=e.outerClass,a=e.children;return r.a.createElement("div",{className:X()(n,$.a.PageSection)},r.a.createElement("div",{className:X()(t,$.a.PageSectionInner)},a))},te=n(10),ne=n.n(te),ae=function(){var e=Object(i.c)(),t=Object(i.d)(A,i.b),n=t.geolocation,o=t.locations,c=t.weather,l=Object(a.useState)([]),s=Object(J.a)(l,2),u=s[0],p=s[1],g=function(e,t){var n=Object(a.useRef)(),r=Object(a.useRef)();function o(){r.current&&clearTimeout(r.current)}return Object(a.useEffect)((function(){return o}),[]),function(){for(var a=arguments.length,c=new Array(a),i=0;i<a;i++)c[i]=arguments[i];n.current=c,o(),r.current=setTimeout((function(){n.current&&e.apply(void 0,Object(U.a)(n.current))}),t)}}(Object(a.useCallback)(function(){var t=Object(f.a)(d.a.mark((function t(n){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e(L(n));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),[]),250),h=Object(a.useCallback)((function(){o.list.length>0&&p(o.list.map((function(e){return{value:e.woeid,label:e.title}})))}),[o.list]),m=Object(a.useCallback)(function(){var t=Object(f.a)(d.a.mark((function t(n){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e(q(n));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),[]);Object(a.useEffect)((function(){h()}),[o.list,h]),Object(a.useEffect)((function(){"success"===o.loading&&!o.selected&&u.length>0&&(e(C(u[0])),m(Number(u[0].value)))}),[o.loading,,o.selected,u,m]);var v=Boolean("pending"===o.loading||"pending"===n.loading),b=v||"pending"===c.loading;return r.a.createElement(ee,{outerClass:ne.a.Header,innerClass:ne.a.HeaderInner},r.a.createElement("div",{className:ne.a.Searchbar},r.a.createElement("form",{id:"form"},r.a.createElement("h1",{className:ne.a.SearchLabel},r.a.createElement("label",{htmlFor:"locations"},"Search city for weather")),r.a.createElement(Q.a,{className:ne.a.SearchbarInput,name:"locations",options:u,value:o.selected,placeholder:v?"Loading...":"Start typing city...",isLoading:b,isDisabled:b,isSearchable:!0,onInputChange:function(e,t){o.list.filter((function(t){return t.title.includes(e)})).length>0||e.length<3||g(e)},onChange:function(t,n){e(C(t)),m(t.value)}}))))};!function(e){e.sn="Snow",e.sl="Sleet",e.h="Hail",e.t="Thunderstorm",e.hr="Heavy Rain",e.lr="Light Rain",e.s="Showers",e.hc="Heavy Cloud",e.lc="Light Cloud",e.c="Clear"}(M||(M={}));var re=n(8),oe=n.n(re),ce=function(){var e,t,n,a,o,c,l=Object(i.d)(A,i.b),s=l.geolocation,u=l.locations,d=l.weather,f=!("success"===u.loading&&u.list.filter((function(e){var t;return e.woeid===(null===(t=d.current)||void 0===t?void 0:t.woeid)})).length>0);return r.a.createElement("div",{className:oe.a.Weather},"pending"===s.loading&&r.a.createElement("div",{className:oe.a.WeatherLoading},"Requesting geolocation future..."),"pending"===u.loading&&r.a.createElement("div",{className:oe.a.WeatherLoading},"Getting locations nearby..."),"pending"===d.loading&&r.a.createElement("div",{className:oe.a.WeatherLoading},"Loading weather for nearest position..."),"success"===d.loading&&"success"===u.loading&&f&&r.a.createElement("div",{className:oe.a.WeatherLoading},"Select new location to display the weather..."),"success"===d.loading&&"pending"!==u.loading&&!f&&d.current&&r.a.createElement("div",{className:oe.a.WeatherInfo},r.a.createElement("p",null,"It's"," ",r.a.createElement("span",{className:oe.a.Temp},null===(e=d.current)||void 0===e?void 0:e.consolidated_weather[0].the_temp.toFixed(1)," C\xb0")," ","in"),r.a.createElement("h2",{className:oe.a.City},null===(t=d.current)||void 0===t?void 0:t.title),r.a.createElement("p",null,"and it's"," ",M[null===(n=d.current)||void 0===n?void 0:n.consolidated_weather[0].weather_state_abbr].toLowerCase()),r.a.createElement("div",null,r.a.createElement("img",{src:(c=null===(a=d.current)||void 0===a?void 0:a.consolidated_weather[0].weather_state_abbr,"".concat("https://www.metaweather.com/static","/img/weather/").concat(c,".svg")),alt:M[null===(o=d.current)||void 0===o?void 0:o.consolidated_weather[0].weather_state_abbr]}))))},ie=n(35),le=n.n(ie),se=z()(["#00ffff","#fff700","#ff8c00"]),ue=function(){var e,t=Object(i.c)(),n=Object(i.d)(A,i.b),o=n.geolocation,c=n.weather,l=Object(a.useState)(10),s=Object(J.a)(l,2),u=s[0],p=s[1],g=Object(a.useState)("#fff700"),b=Object(J.a)(g,2),_=b[0],w=b[1],y=Object(a.useCallback)(Object(f.a)(d.a.mark((function e(){var n,a,r,c,i;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o.position){e.next=3;break}return e.next=3,t(function(){var e=Object(f.a)(d.a.mark((function e(t){var n,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t(h()),n=function(e){t(v({latitude:e.coords.latitude,longitude:e.coords.longitude}))},a=function(e){t(m(e.message))},navigator.geolocation?navigator.geolocation.getCurrentPosition(n,a):t(m("Geolocation is not supported by your browser"));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 3:if(!(null===(n=o.position)||void 0===n?void 0:n.latitude)||!(null===(a=o.position)||void 0===a?void 0:a.longitude)){e.next=7;break}return r=o.position,c=r.latitude,i=r.longitude,e.next=7,t(k({latitude:c,longitude:i}));case 7:case"end":return e.stop()}}),e)}))),[o.position]);return Object(a.useEffect)((function(){document.body.style.backgroundColor=_}),[_]),Object(a.useEffect)((function(){w(se(function(e){var t=e+10;return 0===t?0:100/(40/t)}(u)/100))}),[u]),Object(a.useEffect)((function(){var e,t;(null===(e=c.current)||void 0===e?void 0:e.consolidated_weather[0].the_temp)&&p(null===(t=c.current)||void 0===t?void 0:t.consolidated_weather[0].the_temp)}),[null===(e=c.current)||void 0===e?void 0:e.consolidated_weather[0].the_temp]),Object(a.useEffect)((function(){y()}),[y]),r.a.createElement("div",{className:le.a.Page},r.a.createElement(ae,null),r.a.createElement(ce,null),r.a.createElement(K,{onChange:function(e){p(Number(e.target.value))},value:u,id:"temp",name:"temp",min:"-10",max:"30"}))},de=function(){return r.a.createElement(ue,null)};n(74);c.a.render(r.a.createElement(i.a,{store:R},r.a.createElement(de,null)),document.getElementById("root"))},8:function(e,t,n){e.exports={Weather:"styles_Weather__22rJv",WeatherInfo:"styles_WeatherInfo__26R6c",Temp:"styles_Temp__3OTPJ",City:"styles_City__2Lome",WeatherLoading:"styles_WeatherLoading__1SPF_"}}},[[39,1,2]]]);
//# sourceMappingURL=main.58a4dba4.chunk.js.map